<div class="jumbotron">
  <h1>
    <strong>
      <span animate-increments="{{vm.sum = vm.total(vm.batches)}}"></span>/1000
    </strong>
    batches
  </h1>
   <progressbar max="1000" value="vm.sum" type="success">{{vm.sum / 1000 | percentage}}</progressbar>
  <br class="hidden-xs" />
  <p class="lead text-muted">
    How many batches have you indexed?<br />Record them here:
  </p>
  <br class="hidden-xs" />
  <form name="batches">

    <div class="input-group">
      <input name="count" type="number" class="form-control batches" ng-model="vm.count" ng-pattern="/^[1-9][0-9]*$/" min="1" max="25">
      <span class="input-group-btn">
        <button class="btn btn-success" ng-click="vm.record()">
          Record <span class="glyphicon glyphicon-ok"></span>
        </button>
      </span>
    </div>

    <p class="text-danger" ng-show="batches.count.$error.min">
      Enter a number greater than 0.
    </p>
    <p class="text-danger" ng-show="batches.count.$error.max">
      Enter a number less than 25.
    </p>
    <p class="text-danger" ng-show="batches.count.$error.pattern && !batches.count.$error.min">
      Enter an integer.
    </p>
  </form>

  <div class="alert alert-success alert-dismissible undo fade" role="alert" ng-show="vm.undoVisible">
    <button type="button" class="close" ng-click="vm.undoVisible = false"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
    Successfully recorded <strong>{{vm.countSuccess}}</strong> batches. <a class="alert-link" href="#/" ng-click="vm.undo()">Undo?</a>
  </div>
</div>
